<!-- Header -->
<div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
    <div>
        <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Import Users</h1>
        <nav class="flex" aria-label="Breadcrumb">
            <ol class="inline-flex items-center space-x-1 md:space-x-3">
                <li class="inline-flex items-center">
                    <a href="#" onclick="loadDashboardHome(); return false;" class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-primary-600 dark:text-gray-400 dark:hover:text-white">
                        <i class="fas fa-home mr-2"></i> Dashboard
                    </a>
                </li>
                <li>
                    <div class="flex items-center">
                        <i class="fas fa-chevron-right text-gray-400 mx-1"></i>
                        <span class="ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400">Import Users</span>
                    </div>
                </li>
            </ol>
        </nav>
    </div>
</div>

<!-- Import Options -->
<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-6">
    <!-- Import Students -->
    <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6 dark:bg-gray-800 dark:border-gray-700">
        <div class="flex items-center mb-4">
            <div class="w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center mr-3">
                <i class="fas fa-user-graduate text-blue-600 dark:text-blue-300"></i>
            </div>
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Import Students</h3>
        </div>
        <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">Bulk import student records from a CSV or Excel file.</p>
        <button type="button" onclick="document.getElementById('import-students-file').click()" class="w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-blue-800">
            <i class="fas fa-upload mr-2"></i> Choose File
        </button>
        <input type="file" id="import-students-file" accept=".csv,.xlsx,.xls" class="hidden" onchange="handleFileSelect(this, 'students')">
    </div>

    <!-- Import Teachers -->
    <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6 dark:bg-gray-800 dark:border-gray-700">
        <div class="flex items-center mb-4">
            <div class="w-10 h-10 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center mr-3">
                <i class="fas fa-chalkboard-teacher text-green-600 dark:text-green-300"></i>
            </div>
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Import Teachers</h3>
        </div>
        <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">Bulk import teacher records from a CSV or Excel file.</p>
        <button type="button" onclick="document.getElementById('import-teachers-file').click()" class="w-full text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-green-500 dark:hover:bg-green-600 dark:focus:ring-green-800">
            <i class="fas fa-upload mr-2"></i> Choose File
        </button>
        <input type="file" id="import-teachers-file" accept=".csv,.xlsx,.xls" class="hidden" onchange="handleFileSelect(this, 'teachers')">
    </div>

    <!-- Import Staff -->
    <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6 dark:bg-gray-800 dark:border-gray-700">
        <div class="flex items-center mb-4">
            <div class="w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center mr-3">
                <i class="fas fa-user-tie text-purple-600 dark:text-purple-300"></i>
            </div>
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Import Staff</h3>
        </div>
        <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">Bulk import staff records from a CSV or Excel file.</p>
        <button type="button" onclick="document.getElementById('import-staff-file').click()" class="w-full text-white bg-purple-600 hover:bg-purple-700 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-purple-500 dark:hover:bg-purple-600 dark:focus:ring-purple-800">
            <i class="fas fa-upload mr-2"></i> Choose File
        </button>
        <input type="file" id="import-staff-file" accept=".csv,.xlsx,.xls" class="hidden" onchange="handleFileSelect(this, 'staff')">
    </div>

    <!-- Import Parents -->
    <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6 dark:bg-gray-800 dark:border-gray-700">
        <div class="flex items-center mb-4">
            <div class="w-10 h-10 rounded-full bg-orange-100 dark:bg-orange-900 flex items-center justify-center mr-3">
                <i class="fas fa-users text-orange-600 dark:text-orange-300"></i>
            </div>
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Import Parents</h3>
        </div>
        <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">Bulk import parent records from a CSV or Excel file.</p>
        <button type="button" onclick="document.getElementById('import-parents-file').click()" class="w-full text-white bg-orange-600 hover:bg-orange-700 focus:ring-4 focus:ring-orange-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-orange-500 dark:hover:bg-orange-600 dark:focus:ring-orange-800">
            <i class="fas fa-upload mr-2"></i> Choose File
        </button>
        <input type="file" id="import-parents-file" accept=".csv,.xlsx,.xls" class="hidden" onchange="handleFileSelect(this, 'parents')">
    </div>
</div>

<!-- Download Templates Section -->
<div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6 mb-6 dark:bg-gray-800 dark:border-gray-700">
    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4"><i class="fas fa-download mr-2"></i> Download Templates</h3>
    <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">Download CSV templates with the correct format for each user type before importing.</p>
    <div class="flex flex-wrap gap-3">
        <button type="button" onclick="downloadTemplate('students')" class="inline-flex items-center px-4 py-2 text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 dark:bg-blue-900 dark:text-blue-300 dark:border-blue-700 dark:hover:bg-blue-800">
            <i class="fas fa-file-csv mr-2"></i> Students Template
        </button>
        <button type="button" onclick="downloadTemplate('teachers')" class="inline-flex items-center px-4 py-2 text-sm font-medium text-green-700 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 dark:bg-green-900 dark:text-green-300 dark:border-green-700 dark:hover:bg-green-800">
            <i class="fas fa-file-csv mr-2"></i> Teachers Template
        </button>
        <button type="button" onclick="downloadTemplate('staff')" class="inline-flex items-center px-4 py-2 text-sm font-medium text-purple-700 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 dark:bg-purple-900 dark:text-purple-300 dark:border-purple-700 dark:hover:bg-purple-800">
            <i class="fas fa-file-csv mr-2"></i> Staff Template
        </button>
        <button type="button" onclick="downloadTemplate('parents')" class="inline-flex items-center px-4 py-2 text-sm font-medium text-orange-700 bg-orange-50 border border-orange-200 rounded-lg hover:bg-orange-100 dark:bg-orange-900 dark:text-orange-300 dark:border-orange-700 dark:hover:bg-orange-800">
            <i class="fas fa-file-csv mr-2"></i> Parents Template
        </button>
    </div>
</div>

<!-- File Preview Area -->
<div id="import-preview-section" class="hidden bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700 mb-6">
    <div class="p-6 border-b border-gray-200 dark:border-gray-700">
        <div class="flex items-center justify-between">
            <div>
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white" id="preview-title">File Preview</h3>
                <p class="text-sm text-gray-500 dark:text-gray-400" id="preview-info"></p>
            </div>
            <div class="flex space-x-2">
                <button type="button" onclick="cancelImport()" class="text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-700">
                    Cancel
                </button>
                <button type="button" onclick="confirmImport()" id="confirm-import-btn" class="text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800">
                    <i class="fas fa-check mr-2"></i> Import <span id="import-count">0</span> Records
                </button>
            </div>
        </div>
    </div>
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-600">
            <thead class="bg-gray-50 dark:bg-gray-700" id="preview-thead">
                <!-- JS populates -->
            </thead>
            <tbody class="bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700" id="preview-tbody">
                <!-- JS populates -->
            </tbody>
        </table>
    </div>
</div>

<!-- Import History -->
<div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6 dark:bg-gray-800 dark:border-gray-700">
    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4"><i class="fas fa-history mr-2"></i> Recent Imports</h3>
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-600">
            <thead class="bg-gray-50 dark:bg-gray-700">
                <tr>
                    <th class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">Date</th>
                    <th class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">Type</th>
                    <th class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">File Name</th>
                    <th class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">Records</th>
                    <th class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">Status</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700" id="import-history-body">
                <!-- JS populates -->
            </tbody>
        </table>
    </div>
</div>

<!-- Toast -->
<div id="toast-import" class="hidden fixed top-5 right-5 z-50 flex items-center w-full max-w-xs p-4 mb-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800" role="alert">
    <div class="inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"/></svg>
    </div>
    <div class="ml-3 text-sm font-normal" id="toast-import-message">Import completed successfully!</div>
</div>
